window.ioc={},function(n){function t(t,e,i,r,o){var a={},c="number"==typeof o,s=void 0!==o&&c?o.toString():i;if(!0===c&&void 0!==i)throw new Error(n.INVALID_DECORATOR_OPERATION);!0===Reflect.hasOwnMetadata(t,e)&&(a=Reflect.getMetadata(t,e));var u=a[s];if(!0!==Array.isArray(u))u=[];else for(var d=0;d<u.length;d++){var h=u[d];if(h.key===r.key)throw new Error(n.DUPLICATED_METADATA+" "+h.key)}return u.push(r),a[s]=u,Reflect.defineMetadata(t,a,e),e}function e(n,t){Reflect.decorate(n,t)}function i(n,t){return function(e,i){t(e,i,n)}}n.tagParameter=function(e,i,r,o){return t(n.TAGGED,e,i,o,r)},n.tagProperty=function(e,i,r){return t(n.TAGGED_PROP,e.constructor,i,r)},n.decorate=function(n,t,r){e("number"==typeof r?[i(r,n)]:[n],t)}}(ioc||(ioc={})),function(n){n.inject=function(t){return function(e,i,r){var o=new n.Metadata(n.INJECT_TAG,t);return"number"==typeof r?n.tagParameter(e,i,r,o):n.tagProperty(e,i,o)}}}(ioc||(ioc={})),function(n){n.injectable=function(){return function(t){if(!0===Reflect.hasOwnMetadata(n.PARAM_TYPES,t))throw new Error(n.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(n.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(n.PARAM_TYPES,e,t),t}}}(ioc||(ioc={})),function(n){n.multiInject=function(t){return function(e,i,r){var o=new n.Metadata(n.MULTI_INJECT_TAG,t);return"number"==typeof r?n.tagParameter(e,i,r,o):n.tagProperty(e,i,o)}}}(ioc||(ioc={})),function(n){n.named=function(t){return function(e,i,r){var o=new n.Metadata(n.NAMED_TAG,t);return"number"==typeof r?n.tagParameter(e,i,r,o):n.tagProperty(e,i,o)}}}(ioc||(ioc={})),function(n){n.tagged=function(t,e){return function(i,r,o){var a=new n.Metadata(t,e);return"number"==typeof o?n.tagParameter(i,r,o,a):n.tagProperty(i,r,a)}}}(ioc||(ioc={})),function(n){n.targetName=function(t){return function(e,i,r){var o=new n.Metadata(n.NAME_TAG,t);return n.tagParameter(e,i,r,o)}}}(ioc||(ioc={})),function(n){n.unmanaged=function(){return function(t,e,i){var r=new n.Metadata(n.UNMANAGED_TAG,!0);return n.tagParameter(t,e,i,r)}}}(ioc||(ioc={})),function(n){!function(n){n[n.NoBindingsAvailable=0]="NoBindingsAvailable",n[n.OnlyOneBindingAvailable=1]="OnlyOneBindingAvailable",n[n.MultipleBindingsAvailable=2]="MultipleBindingsAvailable"}(n.BindingCount||(n.BindingCount={}))}(ioc||(ioc={})),function(n){!function(n){n[n.Transient=0]="Transient",n[n.Singleton=1]="Singleton"}(n.BindingScope||(n.BindingScope={}))}(ioc||(ioc={})),function(n){!function(n){n[n.Invalid=0]="Invalid",n[n.Instance=1]="Instance",n[n.ConstantValue=2]="ConstantValue",n[n.DynamicValue=3]="DynamicValue",n[n.Constructor=4]="Constructor",n[n.Factory=5]="Factory",n[n.Function=6]="Function",n[n.Provider=7]="Provider"}(n.BindingType||(n.BindingType={}))}(ioc||(ioc={})),function(n){var t=function(){function t(t){this.guid=n.guid(),this.activated=!1,this.serviceIdentifier=t,this.scope=n.BindingScope.Transient,this.type=n.BindingType.Invalid,this.constraint=function(n){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null}return t.prototype.clone=function(){var n=new t(this.serviceIdentifier);return n.activated=!1,n.implementationType=this.implementationType,n.dynamicValue=this.dynamicValue,n.scope=this.scope,n.type=this.type,n.factory=this.factory,n.provider=this.provider,n.constraint=this.constraint,n.onActivation=this.onActivation,n.cache=this.cache,n},t}();n.Binding=t}(ioc||(ioc={})),function(n){n.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",n.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",n.NULL_ARGUMENT="NULL argument",n.KEY_NOT_FOUND="Key Not Found",n.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",n.CANNOT_UNBIND="Could not unbind serviceIdentifier:",n.NOT_REGISTERED="No bindings found for serviceIdentifier:",n.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",n.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",n.CIRCULAR_DEPENDENCY="Circular dependency found:",n.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",n.INVALID_BINDING_TYPE="Invalid binding type:",n.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",n.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Return must be an Array!",n.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",n.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",n.ARGUMENTS_LENGTH_MISMATCH_1="The number of constructor arguments in the derived class ",n.ARGUMENTS_LENGTH_MISMATCH_2=" must be >= than the number of constructor arguments of its base class."}(ioc||(ioc={})),function(n){n.NAMED_TAG="named",n.NAME_TAG="name",n.UNMANAGED_TAG="unmanaged",n.INJECT_TAG="inject",n.MULTI_INJECT_TAG="multi_inject",n.TAGGED="inversify:tagged",n.TAGGED_PROP="inversify:tagged_props",n.PARAM_TYPES="inversify:paramtypes",n.DESIGN_PARAM_TYPES="design:paramtypes"}(ioc||(ioc={})),function(n){var t=function(){return function(t){this.guid=n.guid(),this.registry=t}}();n.KernelModule=t}(ioc||(ioc={})),function(n){var t=function(){function n(){}return n.of=function(t,e){var i=new n;return i.bindings=t,i.middleware=e,i},n}();n.KernelSnapshot=t}(ioc||(ioc={})),function(n){var t=function(){function t(){this.guid=n.guid(),this._planner=new n.Planner,this._resolver=new n.Resolver,this._bindingDictionary=new n.Lookup,this._middleware=null,this._snapshots=[]}return t.prototype.load=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach(function(t){var e,i=(e=t.guid,function(t){var i=n.bind.bind(n)(t);return i._binding.moduleId=e,i});t.registry(i)})},t.prototype.unload=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach(function(t){n._bindingDictionary.removeByModuleId(t.guid)})},t.prototype.bind=function(t){var e=new n.Binding(t);return this._bindingDictionary.add(t,e),new n.BindingToSyntax(e)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(e){throw new Error(n.CANNOT_UNBIND+" "+this.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new n.Lookup},t.prototype.isBound=function(n){return this._planner.getBindings(this,n).length>0},t.prototype.get=function(n){return this._get({contextInterceptor:function(n){return n},multiInject:!1,serviceIdentifier:n,target:null})[0]},t.prototype.getNamed=function(t,e){return this.getTagged(t,n.NAMED_TAG,e)},t.prototype.getTagged=function(t,e,i){var r=new n.Metadata(e,i),o=new n.Target(n.TargetType.ConstructorArgument,null,t,r);return this._get({contextInterceptor:function(n){return n},multiInject:!1,serviceIdentifier:t,target:o})[0]},t.prototype.snapshot=function(){this._snapshots.push(n.KernelSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){if(0===this._snapshots.length)throw new Error(n.NO_MORE_SNAPSHOTS_AVAILABLE);var t=this._snapshots.pop();this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.getServiceIdentifierAsString=function(n){var t=typeof n;return"function"===t?n.name:"symbol"===t?n.toString():n},t.prototype.applyMiddleware=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=this._middleware?this._middleware:this._planAndResolve.bind(this);this._middleware=n.reduce(function(n,t){return t(n)},e)},t.prototype.getAll=function(n){return this._get({contextInterceptor:function(n){return n},multiInject:!0,serviceIdentifier:n,target:null})},t.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,n.NAMED_TAG,e)},t.prototype.getAllTagged=function(t,e,i){var r=new n.Metadata(e,i),o=new n.Target(null,null,t,r);return this._get({contextInterceptor:function(n){return n},multiInject:!0,serviceIdentifier:t,target:o})},Object.defineProperty(t.prototype,"parent",{set:function(n){this._parentKernel=n},enumerable:!0,configurable:!0}),t.prototype._get=function(t){var e=null;if(e=this._middleware?this._middleware(t):this._planAndResolve(t),!1===Array.isArray(e))throw new Error(n.INVALID_MIDDLEWARE_RETURN);return e},t.prototype._planAndResolve=function(n){var t=this._plan(n.multiInject,n.serviceIdentifier,n.target);return this._resolve(t,n.contextInterceptor)},t.prototype._getActiveBindings=function(t,e,i){var r=this._planner.getBindings(this,e);if(null!==i){var o=new n.Request(e,this._planner.createContext(this),null,r,i);r=this._planner.getActiveBindings(o,i)}switch(r.length){case n.BindingCount.NoBindingsAvailable:var a=this.getServiceIdentifierAsString(e),c=n.NOT_REGISTERED;throw null!==i?(c=c+" "+a+"\n "+a+" - "+i.metadata[0].toString(),c+=this._listRegisteredBindingsForServiceIdentifier(a)):c=c+" "+a,new Error(c);case n.BindingCount.OnlyOneBindingAvailable:if(!1===t)return r;case n.BindingCount.MultipleBindingsAvailable:default:if(!1===t){var s=this.getServiceIdentifierAsString(e),u=n.AMBIGUOUS_MATCH+" "+s;throw u+=this._listRegisteredBindingsForServiceIdentifier(s),new Error(u)}return r}},t.prototype._plan=function(n,t,e){var i=this;return this._getActiveBindings(n,t,e).map(function(n){return i._createContext(n,e)})},t.prototype._createContext=function(n,t){var e=this._planner.createContext(this);return this._planner.createPlan(e,n,t),e},t.prototype._resolve=function(n,t){var e=this;return n.map(function(n){return e._resolver.resolve(t(n))})},t.prototype._listRegisteredBindingsForServiceIdentifier=function(t){var e="",i=this._planner.getBindings(this,t);return 0!==i.length&&(e="\nRegistered bindings:",i.forEach(function(t){var i="Object";null!==t.implementationType&&(i=n.getFunctionName(t.implementationType)),e=e+"\n "+i,t.constraint.metaData&&(e=e+" - "+t.constraint.metaData)})),e},t}();n.Kernel=t}(ioc||(ioc={})),function(n){var t=function(){return function(t,e){this.serviceIdentifier=t,this.value=new Array,this.value.push(e),this.guid=n.guid()}}();n.KeyValuePair=t}(ioc||(ioc={})),function(n){var t=function(){function t(){this._dictionary=[]}return t.prototype.add=function(t,e){if(null==t)throw new Error(n.NULL_ARGUMENT);if(null==e)throw new Error(n.NULL_ARGUMENT);var i=this.getIndexByKey(t);-1!==i?this._dictionary[i].value.push(e):this._dictionary.push(new n.KeyValuePair(t,e))},t.prototype.get=function(t){if(null==t)throw new Error(n.NULL_ARGUMENT);var e=this.getIndexByKey(t);if(-1!==e)return this._dictionary[e].value;throw new Error(n.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null==t)throw new Error(n.NULL_ARGUMENT);var e=this.getIndexByKey(t);if(-1===e)throw new Error(n.KEY_NOT_FOUND);this._dictionary.splice(e,1)},t.prototype.removeByModuleId=function(n){this._dictionary.forEach(function(t){t.value=t.value.filter(function(t){return t.moduleId!==n})}),this._dictionary=this._dictionary.filter(function(n){return n.value.length>0})},t.prototype.hasKey=function(t){if(null==t)throw new Error(n.NULL_ARGUMENT);return-1!==this.getIndexByKey(t)},t.prototype.clone=function(){for(var n=new t,e=0,i=this._dictionary;e<i.length;e++)for(var r=i[e],o=0,a=r.value;o<a.length;o++){var c=a[o];n.add(r.serviceIdentifier,c.clone())}return n},t.prototype.getIndexByKey=function(n){for(var t=-1,e=0;e<this._dictionary.length;e++){this._dictionary[e].serviceIdentifier===n&&(t=e)}return t},t}();n.Lookup=t}(ioc||(ioc={})),function(n){var t=function(){function t(t){this.guid=n.guid(),this.kernel=t}return t.prototype.addPlan=function(n){this.plan=n},t}();n.Context=t}(ioc||(ioc={})),function(n){var t=function(){function t(n,t){this.key=n,this.value=t}return t.prototype.toString=function(){return this.key===n.NAMED_TAG?"named: "+this.value+" ":"tagged: { key:"+this.key+", value: "+this.value+" }"},t}();n.Metadata=t}(ioc||(ioc={})),function(n){var t=function(){return function(n,t){this.parentContext=n,this.rootRequest=t}}();n.Plan=t}(ioc||(ioc={})),function(n){var t=function(){function t(){}return t.prototype.createContext=function(t){return new n.Context(t)},t.prototype.createPlan=function(t,e,i){var r=this,o=new n.Request(e.serviceIdentifier,t,null,e,i),a=new n.Plan(t,o);(t.addPlan(a),e.type===n.BindingType.Instance)&&this._getDependencies(e.implementationType).forEach(function(n){r._createSubRequest(o,n)});return a},t.prototype.getBindings=function(n,t){var e=[],i=n,r=i._bindingDictionary;return r.hasKey(t)?e=r.get(t):void 0!==i._parentKernel&&(e=this.getBindings(i._parentKernel,t)),e},t.prototype.getActiveBindings=function(t,e){var i=this.getBindings(t.parentContext.kernel,e.serviceIdentifier);return i.length>1&&!1===e.isArray()?i.filter(function(i){var r=new n.Request(i.serviceIdentifier,t.parentContext,t,i,e);return i.constraint(r)}):i},t.prototype._createSubRequest=function(t,e){try{var i=this.getActiveBindings(t,e);if(0===i.length){var r=t.parentContext.kernel.getServiceIdentifierAsString(e.serviceIdentifier);throw new Error(n.NOT_REGISTERED+" "+r)}if(i.length>1&&!1===e.isArray()){r=t.parentContext.kernel.getServiceIdentifierAsString(e.serviceIdentifier);throw new Error(n.AMBIGUOUS_MATCH+" "+r)}this._createChildRequest(t,e,i)}catch(n){if(!(n instanceof RangeError))throw new Error(n.message);this._throwWhenCircularDependenciesFound(t.parentContext.plan.rootRequest)}},t.prototype._createChildRequest=function(t,e,i){var r=this,o=t.addChildRequest(e.serviceIdentifier,i,e),a=o;i.forEach(function(t){(e.isArray()&&(a=o.addChildRequest(t.serviceIdentifier,t,e)),t.type===n.BindingType.Instance)&&r._getDependencies(t.implementationType).forEach(function(n,t){r._createSubRequest(a,n)})})},t.prototype._throwWhenCircularDependenciesFound=function(t,e){var i=this;void 0===e&&(e=[]);var r=t.parentContext.kernel.getServiceIdentifierAsString(t.serviceIdentifier);e.push(r),t.childRequests.forEach(function(r){var o=t.parentContext.kernel.getServiceIdentifierAsString(r.serviceIdentifier);if(-1!==e.indexOf(o)){e.push(o);var a=e.reduce(function(n,t){return""!==n?n+" -> "+t:""+t},"");throw new Error(n.CIRCULAR_DEPENDENCY+" "+a)}r.childRequests.length>0?i._throwWhenCircularDependenciesFound(r,e):e.push(o)})},t.prototype._formatTargetMetadata=function(t){var e={};return t.forEach(function(n){e[n.key.toString()]=n.value}),{inject:e[n.INJECT_TAG],multiInject:e[n.MULTI_INJECT_TAG],targetName:e[n.NAME_TAG],unmanaged:e[n.UNMANAGED_TAG]}},t.prototype._getTargets=function(t,e){var i=n.getFunctionName(t),r=Reflect.getMetadata(n.PARAM_TYPES,t);if(void 0===r){var o=n.MISSING_INJECTABLE_ANNOTATION+" "+i+".";throw new Error(o)}var a=Reflect.getMetadata(n.TAGGED,t)||[];return this._constructorArgsTargets(e,i,r,a,t.length).concat(this._getClassPropsTargets(t))},t.prototype._constructorArgsTargets=function(t,e,i,r,o){for(var a=[],c=0;c<o;c++){var s=r[c.toString()]||[],u=this._formatTargetMetadata(s),d=i[c],h=(d=u.inject||u.multiInject?u.inject||u.multiInject:d)===Object||d===Function||void 0===d;if(!1===t&&h){var g=n.MISSING_INJECT_ANNOTATION+" argument "+c+" in class "+e+".";throw new Error(g)}var p=new n.Target(n.TargetType.ConstructorArgument,u.targetName,d);p.metadata=s,a.push(p)}return a},t.prototype._getClassPropsTargets=function(t){for(var e=Reflect.getMetadata(n.TAGGED_PROP,t)||[],i=[],r=Object.keys(e),o=0;o<r.length;o++){var a=r[o],c=e[a],s=this._formatTargetMetadata(e[a]),u=s.targetName||a,d=s.inject||s.multiInject,h=new n.Target(n.TargetType.ClassProperty,u,d);h.metadata=c,i.push(h)}var g=Object.getPrototypeOf(t.prototype).constructor;if(g!==Object){var p=this._getClassPropsTargets(g);i=i.concat(p)}return i},t.prototype._getDependencies=function(t){var e=n.getFunctionName(t),i=this._getTargets(t,!1),r=this._baseClassDepencencyCount(t);if(i.length<r){var o=n.ARGUMENTS_LENGTH_MISMATCH_1+e+n.ARGUMENTS_LENGTH_MISMATCH_2;throw new Error(o)}return i},t.prototype._baseClassDepencencyCount=function(t){var e=Object.getPrototypeOf(t.prototype).constructor;if(e!==Object){var i=this._getTargets(e,!0),r=i.map(function(t){return t.metadata.filter(function(t){return t.key===n.UNMANAGED_TAG})}),o=[].concat.apply([],r).length,a=i.length-o;return a>0?a:this._baseClassDepencencyCount(e)}return 0},t}();n.Planner=t}(ioc||(ioc={})),function(n){var t=function(){function n(n){this.str=n}return n.prototype.startsWith=function(n){return 0===this.str.indexOf(n)},n.prototype.endsWith=function(n){var t,e=n.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},e)},n.prototype.contains=function(n){return-1!==this.str.indexOf(n)},n.prototype.equals=function(n){return this.str===n},n.prototype.value=function(){return this.str},n}();n.QueryableString=t}(ioc||(ioc={})),function(n){var t=function(){function t(t,e,i,r,o){void 0===o&&(o=null),this.guid=n.guid(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=i,this.target=o,this.childRequests=[],this.bindings=Array.isArray(r)?r:r?[r]:[]}return t.prototype.addChildRequest=function(n,e,i){var r=new t(n,this.parentContext,this,e,i);return this.childRequests.push(r),r},t}();n.Request=t}(ioc||(ioc={})),function(n){!function(n){n[n.ConstructorArgument=0]="ConstructorArgument",n[n.ClassProperty=1]="ClassProperty"}(n.TargetType||(n.TargetType={}))}(ioc||(ioc={})),function(n){var t=function(){function t(t,e,i,r){this.guid=n.guid(),this.type=t,this.serviceIdentifier=i,this.name=new n.QueryableString(e||""),this.metadata=new Array;var o=null;"string"==typeof r?o=new n.Metadata(n.NAMED_TAG,r):r instanceof n.Metadata&&(o=r),null!==o&&this.metadata.push(o)}return t.prototype.hasTag=function(n){for(var t=0;t<this.metadata.length;t++){if(this.metadata[t].key===n)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(n.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(n.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(n.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.length>1||1===this.metadata.length&&!this.hasTag(n.NAMED_TAG)},t.prototype.matchesNamedTag=function(t){return this.matchesTag(n.NAMED_TAG)(t)},t.prototype.matchesTag=function(n){var t=this;return function(e){for(var i=0;i<t.metadata.length;i++){var r=t.metadata[i];if(r.key===n&&r.value===e)return!0}return!1}},t}();n.Target=t}(ioc||(ioc={})),function(n){var t=function(){function t(){}return t.prototype.resolve=function(n){var t=n.plan.rootRequest;return this._resolve(t)},t.prototype._resolve=function(t){var e=this,i=t.bindings,r=t.childRequests;if(!t.target||!t.target.isArray()||t.parentRequest.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier)){var o=null,a=i[0],c=a.scope===n.BindingScope.Singleton;if(c&&!0===a.activated)return a.cache;switch(a.type){case n.BindingType.ConstantValue:o=a.cache;break;case n.BindingType.DynamicValue:o=a.dynamicValue(t.parentContext);break;case n.BindingType.Constructor:o=a.implementationType;break;case n.BindingType.Factory:o=a.factory(t.parentContext);break;case n.BindingType.Function:o=a.cache;break;case n.BindingType.Provider:o=a.provider(t.parentContext);break;case n.BindingType.Instance:var s=a.implementationType;if(r.length>0){var u=r.filter(function(t){return t.target.type===n.TargetType.ConstructorArgument}).map(function(n){return e._resolve(n)});o=this._createInstance(s,u),o=this._injectProperties(o,r)}else o=new s;break;case n.BindingType.Invalid:default:var d=t.parentContext.kernel.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(n.INVALID_BINDING_TYPE+" "+d)}return"function"==typeof a.onActivation&&(o=a.onActivation(t.parentContext,o)),c&&(a.cache=o,a.activated=!0),o}return r.map(function(n){return e._resolve(n)})},t.prototype._injectProperties=function(t,e){var i=this,r=e.filter(function(t){return t.target.type===n.TargetType.ClassProperty}),o=r.map(function(n){return i._resolve(n)});return r.forEach(function(n,e){var i=o[e];t[n.target.name.value()]=i}),t},t.prototype._createInstance=function(n,t){return new(n.bind.apply(n,[void 0].concat(t)))},t}();n.Resolver=t}(ioc||(ioc={})),function(n){var t=function(){function t(n){this._binding=n}return t.prototype.inSingletonScope=function(){return this._binding.scope=n.BindingScope.Singleton,new n.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=n.BindingScope.Transient,new n.BindingWhenOnSyntax(this._binding)},t}();n.BindingInSyntax=t}(ioc||(ioc={})),function(n){var t=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new n.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new n.BindingOnSyntax(this._binding),this._bindingInSyntax=new n.BindingInSyntax(t)}return t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(n){return this._bindingWhenSyntax.when(n)},t.prototype.whenTargetNamed=function(n){return this._bindingWhenSyntax.whenTargetNamed(n)},t.prototype.whenTargetTagged=function(n,t){return this._bindingWhenSyntax.whenTargetTagged(n,t)},t.prototype.whenInjectedInto=function(n){return this._bindingWhenSyntax.whenInjectedInto(n)},t.prototype.whenParentNamed=function(n){return this._bindingWhenSyntax.whenParentNamed(n)},t.prototype.whenParentTagged=function(n,t){return this._bindingWhenSyntax.whenParentTagged(n,t)},t.prototype.whenAnyAncestorIs=function(n){return this._bindingWhenSyntax.whenAnyAncestorIs(n)},t.prototype.whenNoAncestorIs=function(n){return this._bindingWhenSyntax.whenNoAncestorIs(n)},t.prototype.whenAnyAncestorNamed=function(n){return this._bindingWhenSyntax.whenAnyAncestorNamed(n)},t.prototype.whenAnyAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(n,t)},t.prototype.whenNoAncestorNamed=function(n){return this._bindingWhenSyntax.whenNoAncestorNamed(n)},t.prototype.whenNoAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenNoAncestorTagged(n,t)},t.prototype.whenAnyAncestorMatches=function(n){return this._bindingWhenSyntax.whenAnyAncestorMatches(n)},t.prototype.whenNoAncestorMatches=function(n){return this._bindingWhenSyntax.whenNoAncestorMatches(n)},t.prototype.onActivation=function(n){return this._bindingOnSyntax.onActivation(n)},t}();n.BindingInWhenOnSyntax=t}(ioc||(ioc={})),function(n){var t=function(){function t(n){this._binding=n}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new n.BindingWhenSyntax(this._binding)},t}();n.BindingOnSyntax=t}(ioc||(ioc={})),function(n){var t=function(){function t(n){this._binding=n}return t.prototype.to=function(t){return this._binding.type=n.BindingType.Instance,this._binding.implementationType=t,new n.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){return this.to(this._binding.serviceIdentifier)},t.prototype.toConstantValue=function(t){return this._binding.type=n.BindingType.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,new n.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=n.BindingType.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new n.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=n.BindingType.Constructor,this._binding.implementationType=t,new n.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=n.BindingType.Factory,this._binding.factory=t,new n.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!=typeof t)throw new Error(n.INVALID_FUNCTION_BINDING);var e=this.toConstantValue(t);return this._binding.type=n.BindingType.Function,e},t.prototype.toAutoFactory=function(t){return this._binding.type=n.BindingType.Factory,this._binding.factory=function(n){return function(){return n.kernel.get(t)}},new n.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=n.BindingType.Provider,this._binding.provider=t,new n.BindingWhenOnSyntax(this._binding)},t}();n.BindingToSyntax=t}(ioc||(ioc={})),function(n){var t=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new n.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new n.BindingOnSyntax(this._binding)}return t.prototype.when=function(n){return this._bindingWhenSyntax.when(n)},t.prototype.whenTargetNamed=function(n){return this._bindingWhenSyntax.whenTargetNamed(n)},t.prototype.whenTargetTagged=function(n,t){return this._bindingWhenSyntax.whenTargetTagged(n,t)},t.prototype.whenInjectedInto=function(n){return this._bindingWhenSyntax.whenInjectedInto(n)},t.prototype.whenParentNamed=function(n){return this._bindingWhenSyntax.whenParentNamed(n)},t.prototype.whenParentTagged=function(n,t){return this._bindingWhenSyntax.whenParentTagged(n,t)},t.prototype.whenAnyAncestorIs=function(n){return this._bindingWhenSyntax.whenAnyAncestorIs(n)},t.prototype.whenNoAncestorIs=function(n){return this._bindingWhenSyntax.whenNoAncestorIs(n)},t.prototype.whenAnyAncestorNamed=function(n){return this._bindingWhenSyntax.whenAnyAncestorNamed(n)},t.prototype.whenAnyAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(n,t)},t.prototype.whenNoAncestorNamed=function(n){return this._bindingWhenSyntax.whenNoAncestorNamed(n)},t.prototype.whenNoAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenNoAncestorTagged(n,t)},t.prototype.whenAnyAncestorMatches=function(n){return this._bindingWhenSyntax.whenAnyAncestorMatches(n)},t.prototype.whenNoAncestorMatches=function(n){return this._bindingWhenSyntax.whenNoAncestorMatches(n)},t.prototype.onActivation=function(n){return this._bindingOnSyntax.onActivation(n)},t}();n.BindingWhenOnSyntax=t}(ioc||(ioc={})),function(n){var t=function(){function t(n){this._binding=n}return t.prototype.when=function(t){return this._binding.constraint=t,new n.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=n.namedConstraint(t),new n.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=n.taggedConstraint(t)(e),new n.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return n.typeConstraint(t)(e.parentRequest)},new n.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return n.namedConstraint(t)(e.parentRequest)},new n.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(i){return n.taggedConstraint(t)(e)(i.parentRequest)},new n.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return n.traverseAncerstors(e,n.typeConstraint(t))},new n.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return!n.traverseAncerstors(e,n.typeConstraint(t))},new n.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return n.traverseAncerstors(e,n.namedConstraint(t))},new n.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return!n.traverseAncerstors(e,n.namedConstraint(t))},new n.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(i){return n.traverseAncerstors(i,n.taggedConstraint(t)(e))},new n.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(i){return!n.traverseAncerstors(i,n.taggedConstraint(t)(e))},new n.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return n.traverseAncerstors(e,t)},new n.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return!n.traverseAncerstors(e,t)},new n.BindingOnSyntax(this._binding)},t}();n.BindingWhenSyntax=t}(ioc||(ioc={})),function(n){n.traverseAncerstors=function(t,e){var i=t.parentRequest;return null!==i&&(!!e(i)||n.traverseAncerstors(i,e))},n.taggedConstraint=function(t){return function(e){var i=function(n){return n.target.matchesTag(t)(e)};return i.metaData=new n.Metadata(t,e),i}},n.namedConstraint=n.taggedConstraint(n.NAMED_TAG),n.typeConstraint=function(n){return function(t){var e=t.bindings[0];if("string"==typeof n)return e.serviceIdentifier===n;var i=t.bindings[0].implementationType;return n===i}}}(ioc||(ioc={})),function(n){n.guid=function(){function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}}(ioc||(ioc={})),function(n){n.getFunctionName=function(n){if(n.name)return n.name;var t=n.toString(),e=t.match(/^function\s*([^\s(]+)/);return e?e[1]:"Anonymous function: "+t}}(ioc||(ioc={}));